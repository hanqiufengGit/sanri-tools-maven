### kafka 消费监控

用于监控消费组的每个主题的消费情况

可以单独对某一个消费组的某一个主题进行监控

可以查看某一主题,某一分区,目前的最新数据

旧版 kafka 0.8.1.1 之前的,可以设置 offset 来重新消费

#### 背景

写这个工具的原因主要是由于公司用的 kafkaOffsetMonitor 不够好用。公司还是用的旧版本的 kafka ,offset 是保存在 zookeeper 上的

每次读取 offset ，需要把当前消费组的所有主题的 offset 刷新一次，并且时不时会卡死；还只能查询，不能设置 zookeeper 的 offset ,每次使用命令去设置特别麻烦。

#### 功能使用

重点说下如何新建连接,第一个参数是需要选择的

新建 kafka 连接的时候，你必须要有一个 zookeeper 连接，需要先去 zookeeper 监控中添加一个 zookeeper 连接

然后才可以在新建 kafka 连接中选择 zk 连接

版本的选择在 0.8.1.1（包含） 之前选择旧版本，之后选择新版本即可

#### 实现说明(新版本)

新版本的监控会一直在后台消费 \_\_consumer_offsets 主题，然后把数据写到临时路径中，此操作会特别费磁盘，在退出 kafka 监控的时候一定要停止监控

