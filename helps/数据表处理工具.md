### 数据表处理工具

此工具用于数据表的搜索，及使用模板生成代码；支持 mysql,pgsql,oracle

#### 背景

使用过 mybatis 的代码生成和网上一些代码生成，但都是需要二次修改，包括基本类，包名，工具类等，如果能获取到元数据，可以自定义模板，将方便很多。

#### 使用

1. 配置数据库信息,可以有两种方式进行配置
   * src/main/resources/com/sanri/config/jdbcdefault.properties （永久配置）
   * 打开 sql 客户端工具，增加连接 （临时配置）
2. 选择连接和数据库,将会自动刷新出所有表信息
3. 搜索表，有两种搜索方式
   * 直接搜索，可搜索表名，表注释，列，列注释
   * 指定域搜索，可只搜表或列 table:表名 或 column:列名
4. 在表上右键，选择相应工具进行操作，下面说下模板代码生成
   - 选择模板代码生成后，将会打开一个模板代码生成对话框，初始打开是空的，你需要新加模板
   - 点击查看可用变量，查询现在可以在模板中使用的变量，模板语法为 velocity 模板
   - 有现成的模板可以用，地址为 [模板地址](https://github.com/sanri1993/resources/tree/master/sanri-tools-maven/sanritoolsconfig/tableTemplate)
5. 简单代码生成
   * 切换模板，点击生成代码，依次生成你需要的代码
   * 然后点击下载代码，可以将之前生成的代码以压缩包形式下载
6. 方案代码生成
   * 可以将需要的模板定制化为方案，点击方案，打开方案配置
   * 选择多个模板配置你需要的方案
   * 点击需要的方案即可下载当前表的所有模板代码
7. 多表方案生成
   * 展示数据表页面，点击多表方案生成
   * 选择表和方案
   * 点击生成
8. tkmybatis 方案生成代码 



## 效果展示

* 首页，可以切换连接和数据库
* 点击不同的表，查看表结构

![](http://pic.yupoo.com/sanri1993/113cefa3/e5ab1197.png)

* 表上右键，模板代码，最主要的功能就是这里面的
* 也可以以逗号拼接形式查看当前表的所有列

![](http://pic.yupoo.com/sanri1993/392a22d6/5fda8e5d.png)

* 左边展示的是模板，右边展示的是模板生成的代码预览
* 可以新增模板和查看可用变量
* 点击方案使用一个方案来生成代码

![](http://pic.yupoo.com/sanri1993/6fa11d7c/50fbc29f.png)

* 方案就是各种模板的组合 
* 点击方案就可以下载生成好的代码，可以配置方案

![](http://pic.yupoo.com/sanri1993/127e7db0/5b5d546f.png)

* 也可以在代码界面直接复制当前生成的代码，点击复制代码，弹出这个对话框 

![](http://pic.yupoo.com/sanri1993/5c94b393/9d18cfce.png)

* 支持多表使用方案生成，这里选择的表就是你在主界面搜索的表，当然，你还可以进行进一步筛选

![](http://pic.yupoo.com/sanri1993/48dee396/d72eb722.png)

* 支持使用 tk.mybatis 生成可以支持运行的 springboot 项目 

  ![](http://pic.yupoo.com/sanri1993/beb9dec5/6c4b4f5e.png)

